{"ast":null,"code":"import React,{useState,useRef}from'react';import{Upload,FileText,Trash2}from'lucide-react';import'./MarkdownEditor.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MarkdownEditor=_ref=>{let{markdown,onChange,onSelectionChange}=_ref;const[isDragOver,setIsDragOver]=useState(false);const textareaRef=useRef(null);const fileInputRef=useRef(null);const handleFileUpload=file=>{if(file&&(file.type==='text/markdown'||file.name.endsWith('.md'))){const reader=new FileReader();reader.onload=e=>{onChange(e.target.result);};reader.readAsText(file);}else{alert('Por favor, selecciona un archivo Markdown (.md)');}};const handleDrop=e=>{e.preventDefault();setIsDragOver(false);const files=Array.from(e.dataTransfer.files);if(files.length>0){handleFileUpload(files[0]);}};const handleDragOver=e=>{e.preventDefault();setIsDragOver(true);};const handleDragLeave=e=>{e.preventDefault();setIsDragOver(false);};const handleFileInputChange=e=>{const file=e.target.files[0];if(file){handleFileUpload(file);}};const handleTextareaChange=e=>{onChange(e.target.value);};const handleSelectionChange=()=>{if(textareaRef.current){const{selectionStart,selectionEnd}=textareaRef.current;const selectedText=markdown.substring(selectionStart,selectionEnd);onSelectionChange(selectedText.trim());}};const clearContent=()=>{onChange('');if(fileInputRef.current){fileInputRef.current.value='';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"markdown-editor\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editor-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editor-title\",children:[/*#__PURE__*/_jsx(FileText,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Editor Markdown\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editor-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:\"action-button upload-button\",title:\"Subir archivo MD\",children:[/*#__PURE__*/_jsx(Upload,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Subir\"})]}),markdown&&/*#__PURE__*/_jsx(\"button\",{onClick:clearContent,className:\"action-button clear-button\",title:\"Limpiar contenido\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editor-content \".concat(isDragOver?'drag-over':''),onDrop:handleDrop,onDragOver:handleDragOver,onDragLeave:handleDragLeave,children:[/*#__PURE__*/_jsx(\"textarea\",{ref:textareaRef,value:markdown,onChange:handleTextareaChange,onSelect:handleSelectionChange,onMouseUp:handleSelectionChange,onKeyUp:handleSelectionChange,placeholder:!markdown?\"Escribe o pega tu Markdown aquí, o arrastra un archivo .md...\":\"Escribe o pega tu Markdown aquí...\",className:\"markdown-textarea\",spellCheck:\"false\"}),!markdown&&/*#__PURE__*/_jsx(\"div\",{className:\"empty-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Upload,{size:48,className:\"empty-icon\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Sube o pega tu Markdown\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Arrastra un archivo .md aqu\\xED o pega tu contenido directamente\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _fileInputRef$current2;return(_fileInputRef$current2=fileInputRef.current)===null||_fileInputRef$current2===void 0?void 0:_fileInputRef$current2.click();},className:\"upload-button-large\",children:[/*#__PURE__*/_jsx(Upload,{size:20}),\"Seleccionar archivo\"]})]})})]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".md,.markdown\",onChange:handleFileInputChange,style:{display:'none'}})]});};export default MarkdownEditor;","map":{"version":3,"names":["React","useState","useRef","Upload","FileText","Trash2","jsx","_jsx","jsxs","_jsxs","MarkdownEditor","_ref","markdown","onChange","onSelectionChange","isDragOver","setIsDragOver","textareaRef","fileInputRef","handleFileUpload","file","type","name","endsWith","reader","FileReader","onload","e","target","result","readAsText","alert","handleDrop","preventDefault","files","Array","from","dataTransfer","length","handleDragOver","handleDragLeave","handleFileInputChange","handleTextareaChange","value","handleSelectionChange","current","selectionStart","selectionEnd","selectedText","substring","trim","clearContent","className","children","size","onClick","_fileInputRef$current","click","title","concat","onDrop","onDragOver","onDragLeave","ref","onSelect","onMouseUp","onKeyUp","placeholder","spellCheck","_fileInputRef$current2","accept","style","display"],"sources":["/home/the00b/Escritorio/MD/src/components/MarkdownEditor.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Upload, FileText, Trash2 } from 'lucide-react';\nimport './MarkdownEditor.css';\n\nconst MarkdownEditor = ({ markdown, onChange, onSelectionChange }) => {\n  const [isDragOver, setIsDragOver] = useState(false);\n  const textareaRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  const handleFileUpload = (file) => {\n    if (file && (file.type === 'text/markdown' || file.name.endsWith('.md'))) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        onChange(e.target.result);\n      };\n      reader.readAsText(file);\n    } else {\n      alert('Por favor, selecciona un archivo Markdown (.md)');\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    setIsDragOver(false);\n    \n    const files = Array.from(e.dataTransfer.files);\n    if (files.length > 0) {\n      handleFileUpload(files[0]);\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  };\n\n  const handleFileInputChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      handleFileUpload(file);\n    }\n  };\n\n  const handleTextareaChange = (e) => {\n    onChange(e.target.value);\n  };\n\n  const handleSelectionChange = () => {\n    if (textareaRef.current) {\n      const { selectionStart, selectionEnd } = textareaRef.current;\n      const selectedText = markdown.substring(selectionStart, selectionEnd);\n      onSelectionChange(selectedText.trim());\n    }\n  };\n\n  const clearContent = () => {\n    onChange('');\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  return (\n    <div className=\"markdown-editor\">\n      <div className=\"editor-header\">\n        <div className=\"editor-title\">\n          <FileText size={18} />\n          <span>Editor Markdown</span>\n        </div>\n        <div className=\"editor-actions\">\n          <button\n            onClick={() => fileInputRef.current?.click()}\n            className=\"action-button upload-button\"\n            title=\"Subir archivo MD\"\n          >\n            <Upload size={16} />\n            <span>Subir</span>\n          </button>\n          {markdown && (\n            <button\n              onClick={clearContent}\n              className=\"action-button clear-button\"\n              title=\"Limpiar contenido\"\n            >\n              <Trash2 size={16} />\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div\n        className={`editor-content ${isDragOver ? 'drag-over' : ''}`}\n        onDrop={handleDrop}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n      >\n        <textarea\n          ref={textareaRef}\n          value={markdown}\n          onChange={handleTextareaChange}\n          onSelect={handleSelectionChange}\n          onMouseUp={handleSelectionChange}\n          onKeyUp={handleSelectionChange}\n          placeholder={!markdown ? \"Escribe o pega tu Markdown aquí, o arrastra un archivo .md...\" : \"Escribe o pega tu Markdown aquí...\"}\n          className=\"markdown-textarea\"\n          spellCheck=\"false\"\n        />\n        {!markdown && (\n          <div className=\"empty-overlay\">\n            <div className=\"empty-state\">\n              <Upload size={48} className=\"empty-icon\" />\n              <h3>Sube o pega tu Markdown</h3>\n              <p>Arrastra un archivo .md aquí o pega tu contenido directamente</p>\n              <button\n                onClick={() => fileInputRef.current?.click()}\n                className=\"upload-button-large\"\n              >\n                <Upload size={20} />\n                Seleccionar archivo\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\".md,.markdown\"\n        onChange={handleFileInputChange}\n        style={{ display: 'none' }}\n      />\n    </div>\n  );\n};\n\nexport default MarkdownEditor; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}